<!--
Generated template for the AccountPage page.

See http://ionicframework.com/docs/components/#navigation for more info on
Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>My Account</ion-title>
  </ion-navbar>
</ion-header>


<ion-content>

  <ion-grid *ngIf="user">
    <ion-row>
      <ion-col col-12 col-xl-4 col-lg-6 col-md-9 col-sm-12 col-xs-12> 
        <ion-item-divider style="background-color: #cc0000;">
          Personal Info:
        </ion-item-divider>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col col-lg-6 col-xl-6 col-md-6 col-sm-12 col-xs-12>
        <ion-item>
          <span item-start class="first">Name: </span>
          <span class="inf">{{user.fullname}}</span>
          <button ion-buuton class="updatebtn" item-end (click)="updateName()"> Update</button>
        </ion-item>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col col-lg-6 col-xl-6 col-md-6 col-sm-12 col-xs-12>
        <ion-item>
          <span class="first">Mobile: </span>
          <span class="inf">{{user.mobile_no}}</span>
          <button ion-buuton class="updatebtn" item-end (click)="updateMobile()"> Update</button>
        </ion-item>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col col-lg-6 col-xl-6 col-md-6 col-sm-12 col-xs-12>
        <ion-item>
          <span class="first">Email: </span>
          <span class="inf">{{user.email}}</span>
          <button ion-buuton class="updatebtn" item-end (click)="updateEmail()"> Update</button>
        </ion-item>
      </ion-col>
    </ion-row>

    <ion-row text-center>
      <ion-col col-lg-6 col-xl-6 col-md-6 col-sm-12 col-xs-12>
        <ion-item>
          <span class="first">Password: </span>
          <span class="inf"></span>
          <button ion-buuton class="updatebtn" item-end (click)="updatePassword()"> Update</button>
        </ion-item>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col col-12 col-xl-4 col-lg-6 col-md-9 col-sm-12 col-xs-12> 
        <ion-item-divider style="background-color: #cc0000;">
          Account Info:
        </ion-item-divider>
      </ion-col>
    </ion-row>

    <ion-row *ngIf="user.currentPack" text-center>
      <ion-col col-lg-6 col-xl-6 col-md-6 col-sm-12 col-xs-12>
        <ion-item>
          <span class="first">Current Pack: </span>
          <span class="inf">{{user.currentPack.packName}}</span>
          <button *ngIf="user.currentPack.packName != 'Free'" ion-buuton class="updatebtn" item-end (click)="updatePack()"> Update</button>
        </ion-item>
      </ion-col>
    </ion-row>

    <ion-row text-center *ngIf="user.currentPack && user.currentPack.packName!='Free' && validTill">
      <ion-col col-lg-6 col-xl-6 col-md-6 col-sm-12 col-xs-12>
        <ion-item>
          <span class="first">Validity ends on: </span>
          <span class="inf">{{validTill}}</span>
        </ion-item>
      </ion-col>
    </ion-row>

    <ion-row text-center>
      <ion-col col-lg-6 col-xl-6 col-md-6 col-sm-12 col-xs-12>
        <ion-item>
          <span class="first">Account Balance: </span>
          <span class="inf">{{user.points}}</span>
        </ion-item>
      </ion-col>
    </ion-row>

    <ion-row class="statustext" *ngIf="awaitingPayment">
      <ion-col col-lg-6 col-xl-6 col-md-6 col-sm-12 col-xs-12>
        <span class="Payment-status">Payment status: </span>
        <span class="Payment-status">{{paymentText}}</span>
      </ion-col>
    </ion-row>    

  </ion-grid>

</ion-content>

<ion-footer>
  <ion-toolbar>
    <div style="text-align: center; ">
      <ion-buttons>
        <button ion-button block (click)="openPay()">
          <span>Recharge</span>
        </button>
      </ion-buttons> 
    </div>
  </ion-toolbar>
</ion-footer>
